# ë‹¤ë‹´AI ì—ì´ì „íŠ¸ í”„ë¡œì íŠ¸

> AI ê¸°ë°˜ ë§ì¶¤í˜• ê°€êµ¬ ì„¤ê³„ ìë™í™” ì‹œìŠ¤í…œ

## í”„ë¡œì íŠ¸ ê°œìš”

ë‹¤ë‹´AIëŠ” ê³ ê°ì˜ ë°© ì‚¬ì§„ì„ ë¶„ì„í•˜ì—¬ ë§ì¶¤í˜• AI ê°€êµ¬ ë””ìì¸ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•˜ëŠ” ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.

### ì‚¬ì—… íŒŒì´í”„ë¼ì¸ (ìµœì¢… ëª©í‘œ)

```
ê³ ê° ë°© ì‚¬ì§„ â†’ AI ë””ìì¸ ì´ë¯¸ì§€ â†’ ì„¤ê³„ ë°ì´í„° â†’ BOM ì¶”ì¶œ â†’ ì¬ë‹¨ ë„ë©´ â†’ ì¡°ë¦½ ë„ë©´ â†’ ì„¤ì¹˜ ë„ë©´ â†’ ì¼ì •ê´€ë¦¬
```

---

## ì•„í‚¤í…ì²˜

### í™•ì • ì•„í‚¤í…ì²˜ (v2)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                  â”‚
â”‚  [ê³ ê°ìš© í”„ë¡ íŠ¸ì—”ë“œ]                                               â”‚
â”‚  HTML Pages (ai-design, detaildesign, etc.)                      â”‚
â”‚         â”‚                                                        â”‚
â”‚         â–¼                                                        â”‚
â”‚  [Cloudflare Workers Proxy]                                      â”‚
â”‚         â”‚                                                        â”‚
â”‚         â–¼                                                        â”‚
â”‚  [n8n Cloud] â”€â”€â”€ ê³ ê° ëŒ€ë©´ ì›Œí¬í”Œë¡œìš° (ìš´ì˜)                        â”‚
â”‚         â”‚                                                        â”‚
â”‚         â”œâ”€â†’ Claude API â”€â†’ ë²½ë©´/ë°°ê´€ ë¶„ì„                           â”‚
â”‚         â”œâ”€â†’ Supabase RAG â”€â†’ ì„¤ê³„ ê·œì¹™ ê²€ìƒ‰                        â”‚
â”‚         â”œâ”€â†’ Gemini API â”€â†’ ì´ë¯¸ì§€ ìƒì„±                              â”‚
â”‚         â””â”€â†’ Supabase â”€â†’ ë°ì´í„° ì €ì¥                               â”‚
â”‚                                                                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ë¶„ë¦¬ì„  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                   â”‚
â”‚                                                                  â”‚
â”‚  [ë‚´ë¶€ AI ì—ì´ì „íŠ¸] (Claude Code + MCP ì„œë²„)                       â”‚
â”‚         â”‚                                                        â”‚
â”‚         â”œâ”€â†’ MCP ë„êµ¬: RAG ê²€ìƒ‰, ë²½ë©´ ë¶„ì„, ì´ë¯¸ì§€ ìƒì„±              â”‚
â”‚         â”œâ”€â†’ [ì‹ ê·œ] BOM ì¶”ì¶œ ë„êµ¬                                   â”‚
â”‚         â”œâ”€â†’ [ì‹ ê·œ] ì¬ë‹¨ ê³„ì‚° ë„êµ¬                                   â”‚
â”‚         â””â”€â†’ [ì‹ ê·œ] ë„ë©´ ìƒì„± ë„êµ¬                                   â”‚
â”‚                                                                  â”‚
â”‚  [Supabase] â”€â”€ DB, Auth, Storage, Vector Search (ê³µìš©)            â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ì—­í•  ë¶„ë‹´

| ì—­í•  | ì‹œìŠ¤í…œ | ì„¤ëª… |
|------|--------|------|
| **ê³ ê° ëŒ€ë©´** | n8n Cloud | ì•ˆì •ì ì¸ ìš´ì˜ ì›Œí¬í”Œë¡œìš° (v8) |
| **ë‚´ë¶€/ì‹ ê·œ ê¸°ëŠ¥** | MCP ì„œë²„ | ê°œë°œ/í…ŒìŠ¤íŠ¸, BOM/ë„ë©´ ë“± ì‹ ê·œ ê¸°ëŠ¥ |
| **AI ë¶„ì„** | Claude API | ë²½ë©´/ë°°ê´€ ë¶„ì„ (n8n + MCP ê³µí†µ) |
| **ì´ë¯¸ì§€ ìƒì„±** | Gemini API | ê°€êµ¬ ë””ìì¸ ì´ë¯¸ì§€ ìƒì„± |
| **ë°ì´í„°** | Supabase | DB, Auth, Storage, Vector Search |

---

## í”„ë¡œì íŠ¸ êµ¬ì¡°

```
dadamagent/
â”œâ”€â”€ .claude/skills/dadam-design/   # Claude Code ìŠ¤í‚¬
â”œâ”€â”€ .github/workflows/             # CI/CD
â”œâ”€â”€ mcp-server/                    # MCP ì„œë²„ (ë‚´ë¶€ AI ì—ì´ì „íŠ¸)
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ index.ts               # MCP ì„œë²„ ì§„ì…ì 
â”‚   â”‚   â”œâ”€â”€ http-server.ts         # HTTP API ì„œë²„
â”‚   â”‚   â”œâ”€â”€ clients/               # API í´ë¼ì´ì–¸íŠ¸ (Claude, Gemini, Supabase)
â”‚   â”‚   â”œâ”€â”€ services/              # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚   â”‚   â”œâ”€â”€ tools/                 # MCP ë„êµ¬ ì •ì˜
â”‚   â”‚   â”œâ”€â”€ prompts/               # í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿
â”‚   â”‚   â”œâ”€â”€ routes/                # HTTP ë¼ìš°íŠ¸
â”‚   â”‚   â””â”€â”€ utils/                 # ìœ í‹¸ë¦¬í‹°
â”‚   â””â”€â”€ .env                       # í™˜ê²½ ë³€ìˆ˜ (API í‚¤)
â”œâ”€â”€ admin/                         # ê´€ë¦¬ì HTML í˜ì´ì§€
â”œâ”€â”€ css/                           # ìŠ¤íƒ€ì¼ì‹œíŠ¸
â”œâ”€â”€ database/                      # Supabase ìŠ¤í‚¤ë§ˆ
â”œâ”€â”€ docs/                          # ë¬¸ì„œ
â”œâ”€â”€ js/                            # í”„ë¡ íŠ¸ì—”ë“œ JS ëª¨ë“ˆ
â”œâ”€â”€ lib/                           # ê³µìœ  ë¼ì´ë¸ŒëŸ¬ë¦¬
â”œâ”€â”€ sql/                           # SQL ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ types/                         # ê³µìœ  íƒ€ì…
â”œâ”€â”€ workflows/                     # n8n ì›Œí¬í”Œë¡œìš° JSON
â”‚   â”œâ”€â”€ v8-claude-analysis.json    # ìš´ì˜ ë²„ì „
â”‚   â”œâ”€â”€ v1-fast-generation.json    # Design Data ì›Œí¬í”Œë¡œìš°
â”‚   â””â”€â”€ archive/                   # ì´ì „ ë²„ì „ (v5, v6, v7)
â”œâ”€â”€ __tests__/                     # í…ŒìŠ¤íŠ¸
â”œâ”€â”€ [HTML í˜ì´ì§€ë“¤]                 # í”„ë¡ íŠ¸ì—”ë“œ (index, ai-design, detaildesign ë“±)
â””â”€â”€ [ì„¤ì • íŒŒì¼ë“¤]                    # package.json, tsconfig ë“±
```

---

## MCP ë„êµ¬

### 1. supabase_rag_search

ì„¤ê³„ ê·œì¹™ RAG ê²€ìƒ‰

```json
{
  "triggers": ["ìƒë¶€ì¥", "í•˜ë¶€ì¥", "ë„ì–´ê·œê²©"],
  "category": "sink",
  "limit": 25
}
```

### 2. gemini_wall_analysis

ë²½ êµ¬ì¡° ë° ìœ í‹¸ë¦¬í‹° ìœ„ì¹˜ ë¶„ì„ (Claude ë˜ëŠ” Gemini ì„ íƒ ê°€ëŠ¥)

```json
{
  "image": "<base64 ì´ë¯¸ì§€>",
  "image_type": "image/jpeg",
  "provider": "claude"
}
```

- `provider`: `"claude"` (ê¸°ë³¸, ANTHROPIC_API_KEY ìˆì„ ë•Œ) ë˜ëŠ” `"gemini"`

### 3. gemini_generate_image

AI ê°€êµ¬ ì´ë¯¸ì§€ ìƒì„±

```json
{
  "prompt": "<ìƒì„± í”„ë¡¬í”„íŠ¸>",
  "reference_image": "<base64 ì°¸ì¡° ì´ë¯¸ì§€>",
  "image_type": "image/jpeg"
}
```

---

## ì„¤ì¹˜ ë° ì‹¤í–‰

### 1. MCP ì„œë²„ ì„¤ì¹˜

```bash
cd mcp-server
npm install
```

### 2. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

`mcp-server/.env` íŒŒì¼ì— API í‚¤ ì„¤ì •:

```bash
cp .env.example .env
# .env íŒŒì¼ í¸ì§‘í•˜ì—¬ API í‚¤ ì…ë ¥
```

í•„ìˆ˜ í™˜ê²½ ë³€ìˆ˜:
- `SUPABASE_URL` - Supabase í”„ë¡œì íŠ¸ URL
- `SUPABASE_ANON_KEY` - Supabase anon key
- `GEMINI_API_KEY` - Google Gemini API key
- `ANTHROPIC_API_KEY` - Anthropic Claude API key (ë²½ë©´ ë¶„ì„ìš©)

### 3. ë¹Œë“œ

```bash
npm run build
```

### 4. ì‹¤í–‰

```bash
# MCP ì„œë²„ (Claude Code ì—°ë™ìš©)
npm start

# HTTP API ì„œë²„ (í”„ë¡ íŠ¸ì—”ë“œ ì—°ë™ìš©)
npm run start:http
```

### 5. í—¬ìŠ¤ ì²´í¬

```bash
curl http://localhost:3200/health
```

---

## ì§€ì› ì¹´í…Œê³ ë¦¬

| ì¹´í…Œê³ ë¦¬ | ì„¤ëª… | RAG íŠ¸ë¦¬ê±° |
|---------|------|-----------|
| sink | ì‹±í¬ëŒ€/ì£¼ë°©ê°€êµ¬ | ìƒë¶€ì¥, í•˜ë¶€ì¥, ë„ì–´ê·œê²© |
| wardrobe | ë¶™ë°•ì´ì¥ | ë¶™ë°•ì´ì¥, ì¢ŒëŒ€, ì„œë |
| fridge | ëƒ‰ì¥ê³ ì¥ | ëƒ‰ì¥ê³ ì¥, ELì¥, í™ˆì¹´í˜ |
| vanity | í™”ì¥ëŒ€ | í™”ì¥ëŒ€, ê±°ìš¸, ì¡°ëª… |
| shoe | ì‹ ë°œì¥ | ì‹ ë°œì¥, í™˜ê¸°êµ¬ |
| storage | ìˆ˜ë‚©ì¥ | ìˆ˜ë‚©ì¥, ì„ ë°˜ |

---

## ê°œë°œ ë¡œë“œë§µ

| Phase | ìƒíƒœ | ì„¤ëª… |
|-------|------|------|
| Phase 1 | ğŸ”„ ì§„í–‰ ì¤‘ | ì•„í‚¤í…ì²˜ ì •ë¦¬, ì½”ë“œë² ì´ìŠ¤ í´ë¦°ì—… |
| Phase 2 | â³ ëŒ€ê¸° | ì„¤ê³„ ë°ì´í„° êµ¬ì¡°í™” (JSON) |
| Phase 3 | â³ ëŒ€ê¸° | BOM (ìì¬ ëª©ë¡) ì¶”ì¶œ |
| Phase 4 | â³ ëŒ€ê¸° | ì¬ë‹¨ ë„ë©´ ìƒì„± |
| Phase 5 | â³ ëŒ€ê¸° | ì¡°ë¦½/ì„¤ì¹˜ ë„ë©´ ë° ì¼ì •ê´€ë¦¬ |

---

## ì°¸ê³  ë¬¸ì„œ

- [ì•„í‚¤í…ì²˜ ê³„íšì„œ](./docs/renovation-plan.md)
- [MCP ê³µì‹ ë¬¸ì„œ](https://modelcontextprotocol.io/)

---

## ë¼ì´ì„ ìŠ¤

ë‹¤ë‹´ê°€êµ¬ ë‚´ë¶€ í”„ë¡œì íŠ¸
