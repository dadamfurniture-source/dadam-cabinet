<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI ì„¤ê³„ - ë‹¤ë‹´ê°€êµ¬</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600&family=Noto+Serif+KR:wght@400;500&display=swap" rel="stylesheet">
  <style>
    *{margin:0;padding:0;box-sizing:border-box}
    :root{--white:#FAFAFA;--cream:#F8F7F4;--warm:#EBE8E2;--gray:#8B8680;--charcoal:#2D2A26;--black:#1A1918;--gold:#B8956C}
    body{font-family:'Pretendard',-apple-system,BlinkMacSystemFont,system-ui,sans-serif;background:var(--white);color:var(--charcoal);line-height:1.7}
    h1,h2,h3,h4{font-family:'Playfair Display','Noto Serif KR',serif;font-weight:500}
    a{text-decoration:none;color:inherit}

    /* Navigation */
    .nav{position:fixed;top:0;left:0;right:0;z-index:100;padding:0 48px;height:80px;display:flex;align-items:center;justify-content:space-between;background:rgba(255,255,255,.95);backdrop-filter:blur(10px);box-shadow:0 1px 3px rgba(0,0,0,.1)}
    .nav-logo{display:flex;align-items:center;gap:8px;color:var(--charcoal)}
    .nav-logo svg{width:32px;height:32px}
    .nav-logo span{font-family:'Playfair Display',serif;font-size:24px}
    .nav-menu{display:flex;gap:32px}
    .nav-menu a{color:var(--charcoal);font-size:14px;letter-spacing:.5px;transition:all .3s}
    .nav-menu a:hover{opacity:.7}
    .nav-menu a.active{color:var(--gold);font-weight:500}
    .nav-icons{display:flex;align-items:center;gap:24px;color:var(--charcoal)}
    .nav-icons button{background:none;border:none;color:inherit;cursor:pointer;padding:4px}

    /* Hero Section */
    .hero{padding:140px 48px 60px;background:linear-gradient(135deg,var(--cream) 0%,var(--white) 100%);text-align:center}
    .hero-badge{display:inline-flex;align-items:center;gap:8px;padding:8px 20px;background:rgba(184,149,108,.1);border-radius:24px;color:var(--gold);font-size:12px;letter-spacing:2px;text-transform:uppercase;margin-bottom:24px}
    .hero-badge svg{width:16px;height:16px}
    .hero h1{font-size:48px;margin-bottom:16px}
    .hero h1 span{color:var(--gold)}
    .hero p{color:var(--gray);font-size:18px;max-width:600px;margin:0 auto}

    /* Main Chat Container */
    .chat-section{padding:40px 48px 80px;background:var(--white)}
    .chat-container{max-width:900px;margin:0 auto;display:grid;grid-template-columns:280px 1fr;gap:32px;min-height:600px}

    /* Sidebar */
    .chat-sidebar{background:var(--cream);border-radius:16px;padding:24px;display:flex;flex-direction:column}
    .sidebar-title{font-size:14px;letter-spacing:1px;text-transform:uppercase;color:var(--gray);margin-bottom:16px}
    .quick-prompts{display:flex;flex-direction:column;gap:8px;flex:1}
    .quick-prompt{padding:14px 16px;background:var(--white);border:1px solid var(--warm);border-radius:10px;font-size:13px;color:var(--charcoal);cursor:pointer;transition:all .3s;text-align:left}
    .quick-prompt:hover{border-color:var(--gold);background:rgba(184,149,108,.05)}
    .quick-prompt span{display:block;font-size:11px;color:var(--gray);margin-top:4px}
    
    /* Interior AI Button - NEW */
    .quick-prompt.interior-ai{background:linear-gradient(135deg,var(--gold),#D4A574);color:#fff;border:none}
    .quick-prompt.interior-ai:hover{background:linear-gradient(135deg,#D4A574,var(--gold));transform:translateY(-2px);box-shadow:0 4px 12px rgba(184,149,108,.3)}
    .quick-prompt.interior-ai span{color:rgba(255,255,255,.8)}
    
    .sidebar-divider{height:1px;background:var(--warm);margin:12px 0}
    
    .sidebar-info{margin-top:auto;padding-top:24px;border-top:1px solid var(--warm)}
    .sidebar-info p{font-size:12px;color:var(--gray);line-height:1.6}
    .sidebar-info svg{width:14px;height:14px;vertical-align:middle;margin-right:4px}

    /* Chat Area */
    .chat-area{display:flex;flex-direction:column;background:var(--white);border:1px solid var(--warm);border-radius:16px;overflow:hidden}
    .chat-header{padding:20px 24px;border-bottom:1px solid var(--warm);display:flex;align-items:center;gap:12px}
    .chat-header-icon{width:40px;height:40px;background:linear-gradient(135deg,var(--gold),#D4A574);border-radius:10px;display:flex;align-items:center;justify-content:center}
    .chat-header-icon svg{width:20px;height:20px;color:#fff}
    .chat-header-text h3{font-size:16px;font-family:inherit;font-weight:500}
    .chat-header-text p{font-size:12px;color:var(--gray)}
    .chat-status{margin-left:auto;display:flex;align-items:center;gap:6px;font-size:12px;color:var(--gray)}
    .chat-status::before{content:'';width:8px;height:8px;background:#4CAF50;border-radius:50%}

    /* Messages Area */
    .chat-messages{flex:1;padding:24px;overflow-y:auto;display:flex;flex-direction:column;gap:16px;min-height:400px;max-height:500px}
    .message{display:flex;gap:12px;max-width:85%}
    .message.user{flex-direction:row-reverse;margin-left:auto}
    .message-avatar{width:36px;height:36px;border-radius:10px;display:flex;align-items:center;justify-content:center;flex-shrink:0}
    .message.ai .message-avatar{background:linear-gradient(135deg,var(--gold),#D4A574)}
    .message.ai .message-avatar svg{width:18px;height:18px;color:#fff}
    .message.user .message-avatar{background:var(--charcoal)}
    .message.user .message-avatar svg{width:18px;height:18px;color:#fff}
    .message-content{padding:14px 18px;border-radius:14px;font-size:14px;line-height:1.7}
    .message.ai .message-content{background:var(--cream);border-bottom-left-radius:4px}
    .message.user .message-content{background:var(--charcoal);color:#fff;border-bottom-right-radius:4px}
    .message-time{font-size:10px;color:var(--gray);margin-top:6px}
    .message.user .message-time{text-align:right}

    /* Typing Indicator */
    .typing-indicator{display:flex;gap:4px;padding:14px 18px;background:var(--cream);border-radius:14px;border-bottom-left-radius:4px;width:fit-content}
    .typing-indicator span{width:8px;height:8px;background:var(--gray);border-radius:50%;animation:typing 1.4s infinite}
    .typing-indicator span:nth-child(2){animation-delay:.2s}
    .typing-indicator span:nth-child(3){animation-delay:.4s}
    @keyframes typing{0%,60%,100%{transform:translateY(0)}30%{transform:translateY(-6px)}}

    /* Welcome Message */
    .welcome-message{text-align:center;padding:40px 20px}
    .welcome-icon{width:64px;height:64px;background:linear-gradient(135deg,var(--gold),#D4A574);border-radius:16px;display:flex;align-items:center;justify-content:center;margin:0 auto 20px}
    .welcome-icon svg{width:32px;height:32px;color:#fff}
    .welcome-message h3{font-size:20px;margin-bottom:8px}
    .welcome-message p{color:var(--gray);font-size:14px;max-width:300px;margin:0 auto}

    /* Input Area */
    .chat-input{padding:20px 24px;border-top:1px solid var(--warm);background:var(--cream)}
    .input-wrapper{display:flex;gap:12px;align-items:flex-end}
    .input-field{flex:1;position:relative}
    .input-field textarea{width:100%;padding:14px 18px;border:1px solid var(--warm);border-radius:12px;font-size:14px;font-family:inherit;resize:none;background:var(--white);transition:all .3s;min-height:50px;max-height:120px}
    .input-field textarea:focus{outline:none;border-color:var(--gold);box-shadow:0 0 0 3px rgba(184,149,108,.1)}
    .input-field textarea::placeholder{color:var(--gray)}
    .send-btn{width:50px;height:50px;background:var(--charcoal);border:none;border-radius:12px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .3s}
    .send-btn:hover{background:var(--gold)}
    .send-btn:disabled{background:var(--warm);cursor:not-allowed}
    .send-btn svg{width:20px;height:20px;color:#fff}
    .input-hint{font-size:11px;color:var(--gray);margin-top:8px;display:flex;align-items:center;gap:16px}
    .input-hint span{display:flex;align-items:center;gap:4px}

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       INTERIOR AI MODAL - NEW
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .modal-overlay{position:fixed;inset:0;background:rgba(0,0,0,.7);backdrop-filter:blur(4px);z-index:1000;display:none;align-items:center;justify-content:center;padding:20px}
    .modal-overlay.active{display:flex}
    
    .interior-modal{background:var(--white);border-radius:20px;width:100%;max-width:1100px;max-height:90vh;overflow:hidden;display:grid;grid-template-columns:1fr 1.2fr;box-shadow:0 25px 50px rgba(0,0,0,.25)}
    
    .modal-left{padding:32px;background:var(--cream);display:flex;flex-direction:column;gap:24px;overflow-y:auto}
    .modal-header{display:flex;align-items:center;justify-content:space-between}
    .modal-header h2{font-size:24px;display:flex;align-items:center;gap:12px}
    .modal-header h2 span{background:linear-gradient(135deg,#10b981,#059669);color:#fff;font-size:10px;padding:4px 10px;border-radius:12px;font-family:sans-serif;font-weight:600}
    .modal-close{width:36px;height:36px;border:none;background:var(--warm);border-radius:10px;cursor:pointer;font-size:20px;color:var(--gray);transition:all .3s}
    .modal-close:hover{background:var(--charcoal);color:#fff}
    
    /* Upload Zone */
    .upload-zone{border:2px dashed var(--warm);border-radius:16px;padding:32px;text-align:center;cursor:pointer;transition:all .3s}
    .upload-zone:hover,.upload-zone.dragover{border-color:var(--gold);background:rgba(184,149,108,.05)}
    .upload-zone.has-image{padding:12px}
    .upload-zone img{max-width:100%;max-height:200px;border-radius:12px;object-fit:cover}
    .upload-zone p{color:var(--gray);font-size:14px;margin-top:12px}
    .upload-icon{font-size:48px;margin-bottom:12px}
    
    /* Style Selection */
    .style-section h3{font-size:14px;color:var(--gray);text-transform:uppercase;letter-spacing:1px;margin-bottom:12px}
    .style-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:10px}
    .style-btn{padding:14px 12px;background:var(--white);border:1px solid var(--warm);border-radius:12px;cursor:pointer;transition:all .3s;text-align:center}
    .style-btn:hover{border-color:var(--gold)}
    .style-btn.active{background:var(--gold);color:#fff;border-color:var(--gold)}
    .style-btn .icon{font-size:20px;margin-bottom:4px}
    .style-btn .name{font-size:13px;font-weight:500}
    .style-btn .desc{font-size:10px;color:var(--gray);margin-top:2px}
    .style-btn.active .desc{color:rgba(255,255,255,.7)}
    
    /* Additional Request */
    .additional-section textarea{width:100%;padding:14px;border:1px solid var(--warm);border-radius:12px;font-size:14px;font-family:inherit;resize:none;min-height:80px;background:var(--white)}
    .additional-section textarea:focus{outline:none;border-color:var(--gold)}
    
    /* Generate Button */
    .generate-btn{width:100%;padding:18px;background:var(--charcoal);color:#fff;border:none;border-radius:14px;font-size:16px;font-weight:500;cursor:pointer;transition:all .3s;display:flex;align-items:center;justify-content:center;gap:10px}
    .generate-btn:hover:not(:disabled){background:var(--gold)}
    .generate-btn:disabled{opacity:.6;cursor:not-allowed}
    .generate-btn .spinner{width:20px;height:20px;border:2px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:spin 1s linear infinite}
    @keyframes spin{to{transform:rotate(360deg)}}
    
    /* Modal Right - Results */
    .modal-right{padding:32px;background:var(--white);display:flex;flex-direction:column;overflow-y:auto}
    .result-header{display:flex;align-items:center;gap:8px;margin-bottom:20px;padding-bottom:16px;border-bottom:1px solid var(--warm)}
    .result-header h3{font-size:18px}
    
    .result-placeholder{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;color:var(--gray)}
    .result-placeholder .icon{font-size:64px;margin-bottom:16px;opacity:.5}
    .result-placeholder h4{font-size:18px;color:var(--charcoal);margin-bottom:8px}
    .result-placeholder p{font-size:14px;max-width:280px}
    
    .result-content{display:none;flex-direction:column;gap:20px}
    .result-content.active{display:flex}
    
    .image-compare{display:grid;grid-template-columns:1fr 1fr;gap:16px}
    .image-compare .label{font-size:11px;color:var(--gray);text-transform:uppercase;letter-spacing:1px;margin-bottom:8px}
    .image-compare img{width:100%;height:140px;object-fit:cover;border-radius:12px;border:1px solid var(--warm)}
    .image-compare .after img{border-color:var(--gold)}
    
    .generated-image{margin-top:8px}
    .generated-image img{width:100%;border-radius:16px;cursor:pointer;transition:transform .3s}
    .generated-image img:hover{transform:scale(1.02)}
    
    .analysis-box{background:var(--cream);border-radius:14px;padding:20px}
    .analysis-box h4{font-size:14px;color:var(--gold);margin-bottom:8px;display:flex;align-items:center;gap:6px}
    .analysis-box p{font-size:13px;color:var(--charcoal);line-height:1.7}
    .analysis-box+.analysis-box{margin-top:12px}
    
    .download-btn{padding:14px;background:var(--gold);color:#fff;border:none;border-radius:12px;font-size:14px;font-weight:500;cursor:pointer;transition:all .3s;display:flex;align-items:center;justify-content:center;gap:8px;margin-top:auto}
    .download-btn:hover{background:var(--charcoal)}

    /* Footer */
    .footer{padding:60px 48px;background:var(--charcoal);color:#fff}
    .footer-content{max-width:900px;margin:0 auto;display:flex;justify-content:space-between;align-items:center}
    .footer-brand{display:flex;align-items:center;gap:8px}
    .footer-brand svg{width:28px;height:28px}
    .footer-brand span{font-family:'Playfair Display',serif;font-size:20px}
    .footer-links{display:flex;gap:32px}
    .footer-links a{color:rgba(255,255,255,.6);font-size:14px;transition:color .3s}
    .footer-links a:hover{color:#fff}
    .footer-copy{text-align:center;margin-top:32px;padding-top:24px;border-top:1px solid rgba(255,255,255,.1);font-size:12px;color:rgba(255,255,255,.4)}

    /* Responsive */
    @media(max-width:900px){
      .interior-modal{grid-template-columns:1fr;max-height:95vh}
      .modal-right{max-height:50vh}
    }
    @media(max-width:768px){
      .nav{padding:0 24px}
      .nav-menu{display:none}
      .hero{padding:120px 24px 40px}
      .hero h1{font-size:32px}
      .chat-section{padding:24px}
      .chat-container{grid-template-columns:1fr;gap:24px}
      .chat-sidebar{display:none}
      .footer{padding:40px 24px}
      .footer-content{flex-direction:column;gap:24px;text-align:center}
      .footer-links{flex-wrap:wrap;justify-content:center}
      .style-grid{grid-template-columns:repeat(2,1fr)}
    }
  </style>
</head>
<body>
  <!-- SVG Symbols -->
  <svg style="display:none">
    <symbol id="icon-logo" viewBox="0 0 40 40"><path d="M20 4L4 12v16l16 8 16-8V12L20 4zm0 4l12 6-12 6-12-6 12-6zm-12 10l12 6 12-6v8l-12 6-12-6v-8z"/></symbol>
    <symbol id="icon-ai" viewBox="0 0 24 24"><path fill="currentColor" d="M12 2a2 2 0 0 1 2 2c0 .74-.4 1.39-1 1.73V7h1a7 7 0 0 1 7 7h1a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v1a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-1H2a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h1a7 7 0 0 1 7-7h1V5.73c-.6-.34-1-.99-1-1.73a2 2 0 0 1 2-2M7.5 13A2.5 2.5 0 0 0 5 15.5A2.5 2.5 0 0 0 7.5 18a2.5 2.5 0 0 0 2.5-2.5A2.5 2.5 0 0 0 7.5 13m9 0a2.5 2.5 0 0 0-2.5 2.5a2.5 2.5 0 0 0 2.5 2.5a2.5 2.5 0 0 0 2.5-2.5a2.5 2.5 0 0 0-2.5-2.5z"/></symbol>
    <symbol id="icon-user" viewBox="0 0 24 24"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></symbol>
    <symbol id="icon-send" viewBox="0 0 24 24"><path d="M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z"/></symbol>
    <symbol id="icon-sparkle" viewBox="0 0 24 24"><path d="M12 2l2.4 7.2L22 12l-7.6 2.8L12 22l-2.4-7.2L2 12l7.6-2.8L12 2z"/></symbol>
    <symbol id="icon-kitchen" viewBox="0 0 24 24"><path d="M18 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2zM6 4h5v8H6V4zm12 16H6v-6h12v6zm0-8h-5V4h5v8z"/></symbol>
    <symbol id="icon-wardrobe" viewBox="0 0 24 24"><path d="M4 2h16a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2zm7 2v16h2V4h-2zm-6 8h5v2H5v-2zm8 0h5v2h-5v-2z"/></symbol>
    <symbol id="icon-info" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4m0-4h.01"/></symbol>
    <symbol id="icon-chevron-down" viewBox="0 0 24 24"><path d="m6 9 6 6 6-6"/></symbol>
    <symbol id="icon-search" viewBox="0 0 24 24"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/></symbol>
  </svg>

  <!-- Navigation -->
  <nav class="nav">
    <a href="index.html" class="nav-logo">
      <svg fill="currentColor"><use href="#icon-logo"/></svg>
      <span>ë‹¤ë‹´</span>
    </a>
    <div class="nav-menu">
      <a href="index.html">About us</a>
      <a href="index.html">Collection</a>
      <a href="index.html">Products</a>
      <a href="ai-design.html" class="active">AI Design</a>
      <a href="index.html">Stories</a>
      <a href="index.html">Showroom</a>
      <a href="index.html">Service</a>
    </div>
    <div class="nav-icons">
      <button><svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2"><use href="#icon-user"/></svg></button>
      <button><svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2"><use href="#icon-search"/></svg></button>
      <button style="display:flex;align-items:center;gap:4px;font-size:14px">KR<svg width="14" height="14" fill="none" stroke="currentColor" stroke-width="2"><use href="#icon-chevron-down"/></svg></button>
    </div>
  </nav>

  <!-- Hero Section -->
  <section class="hero">
    <div class="hero-badge">
      <svg fill="none" stroke="currentColor" stroke-width="2"><use href="#icon-sparkle"/></svg>
      AI-Powered Design
    </div>
    <h1>AI <span>ì„¤ê³„</span> ì‹œìŠ¤í…œ</h1>
    <p>ì¸ê³µì§€ëŠ¥ê³¼ ëŒ€í™”í•˜ë©° ë‚˜ë§Œì˜ ë§ì¶¤ ê°€êµ¬ë¥¼ ì„¤ê³„í•´ë³´ì„¸ìš”.<br>30ë…„ ì¥ì¸ì˜ ë…¸í•˜ìš°ê°€ ë‹´ê¸´ AIê°€ ìµœì ì˜ ì†”ë£¨ì…˜ì„ ì œì•ˆí•©ë‹ˆë‹¤.</p>
  </section>

  <!-- Chat Section -->
  <section class="chat-section">
    <div class="chat-container">
      <!-- Sidebar -->
      <aside class="chat-sidebar">
        <p class="sidebar-title">ë¹ ë¥¸ ì‹œì‘</p>
        <div class="quick-prompts">
          <!-- â˜… NEW: Interior AI Button -->
          <button class="quick-prompt interior-ai" onclick="openInteriorModal()">
            ğŸ¨ ì¸í…Œë¦¬ì–´ ë¦¬ë””ìì¸
            <span>AIë¡œ ê³µê°„ì„ ìƒˆë¡­ê²Œ ë³€ì‹ </span>
          </button>
          
          <div class="sidebar-divider"></div>
          
          <button class="quick-prompt" onclick="sendQuickPrompt('ì£¼ë°© ì‹±í¬ëŒ€ë¥¼ ìƒˆë¡œ ì„¤ê³„í•˜ê³  ì‹¶ì–´ìš”. ê³µê°„ì€ 3m x 2m ì…ë‹ˆë‹¤.')">
            ğŸ³ ì£¼ë°© ì‹±í¬ëŒ€ ì„¤ê³„
            <span>ê³µê°„ì— ë§ëŠ” ìµœì ì˜ ë ˆì´ì•„ì›ƒ</span>
          </button>
          <button class="quick-prompt" onclick="sendQuickPrompt('ë¶™ë°•ì´ì¥ì„ ì„¤ê³„í•´ì£¼ì„¸ìš”. ë°© í¬ê¸°ëŠ” 3.5m x 3mì´ê³  ì˜· ìˆ˜ë‚©ì´ ë§ì´ í•„ìš”í•´ìš”.')">
            ğŸ‘” ë¶™ë°•ì´ì¥ ì„¤ê³„
            <span>ìˆ˜ë‚© ê³µê°„ ìµœì í™”</span>
          </button>
          <button class="quick-prompt" onclick="sendQuickPrompt('ëƒ‰ì¥ê³ ì¥ê³¼ í‚¤í°ì¥ì„ í¬í•¨í•œ ì£¼ë°© ê°€êµ¬ ì„¸íŠ¸ë¥¼ ì„¤ê³„í•´ì£¼ì„¸ìš”.')">
            ğŸ  ì£¼ë°© ê°€êµ¬ ì„¸íŠ¸
            <span>í†µí•© ì£¼ë°© ì†”ë£¨ì…˜</span>
          </button>
          <button class="quick-prompt" onclick="sendQuickPrompt('í˜„ëŒ€ì ì¸ ë¯¸ë‹ˆë©€ ìŠ¤íƒ€ì¼ì˜ ìˆ˜ë‚©ì¥ì„ ì¶”ì²œí•´ì£¼ì„¸ìš”.')">
            âœ¨ ìŠ¤íƒ€ì¼ ì¶”ì²œ
            <span>íŠ¸ë Œë“œì— ë§ëŠ” ë””ìì¸</span>
          </button>
        </div>
        <div class="sidebar-info">
          <p>
            <svg fill="none" stroke="currentColor" stroke-width="2"><use href="#icon-info"/></svg>
            AI ì„¤ê³„ ì‹œìŠ¤í…œì€ ê³ ê°ë‹˜ì˜ ê³µê°„ê³¼ ìš”êµ¬ì‚¬í•­ì„ ë¶„ì„í•˜ì—¬ ìµœì ì˜ ê°€êµ¬ ë°°ì¹˜ì™€ ë””ìì¸ì„ ì œì•ˆí•©ë‹ˆë‹¤.
          </p>
        </div>
      </aside>

      <!-- Chat Area -->
      <div class="chat-area">
        <div class="chat-header">
          <div class="chat-header-icon">
            <svg><use href="#icon-ai"/></svg>
          </div>
          <div class="chat-header-text">
            <h3>ë‹¤ë‹´ AI ì„¤ê³„ì‚¬</h3>
            <p>ë§ì¶¤ ê°€êµ¬ ì„¤ê³„ ì „ë¬¸ AI</p>
          </div>
          <div class="chat-status">ì˜¨ë¼ì¸</div>
        </div>

        <div class="chat-messages" id="chatMessages">
          <div class="welcome-message">
            <div class="welcome-icon">
              <svg><use href="#icon-ai"/></svg>
            </div>
            <h3>ì•ˆë…•í•˜ì„¸ìš”! ë‹¤ë‹´ AIì…ë‹ˆë‹¤</h3>
            <p>ì–´ë–¤ ê°€êµ¬ë¥¼ ì„¤ê³„í•´ë“œë¦´ê¹Œìš”? ê³µê°„ í¬ê¸°, ìŠ¤íƒ€ì¼, ìš©ë„ ë“±ì„ ì•Œë ¤ì£¼ì‹œë©´ ë§ì¶¤ ì„¤ê³„ë¥¼ ë„ì™€ë“œë¦´ê²Œìš”.</p>
          </div>
        </div>

        <div class="chat-input">
          <div class="input-wrapper">
            <div class="input-field">
              <textarea id="messageInput" placeholder="ë©”ì‹œì§€ë¥¼ ì…ë ¥í•˜ì„¸ìš”..." rows="1" onkeydown="handleKeyDown(event)"></textarea>
            </div>
            <button class="send-btn" id="sendBtn" onclick="sendMessage()">
              <svg fill="none" stroke="currentColor" stroke-width="2"><use href="#icon-send"/></svg>
            </button>
          </div>
          <div class="input-hint">
            <span>Enterë¡œ ì „ì†¡</span>
            <span>Shift + Enterë¡œ ì¤„ë°”ê¿ˆ</span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       INTERIOR AI MODAL - NEW
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div class="modal-overlay" id="interiorModal">
    <div class="interior-modal">
      <!-- Left Panel - Input -->
      <div class="modal-left">
        <div class="modal-header">
          <h2>ğŸ¨ ì¸í…Œë¦¬ì–´ AI <span>DALL-E 3</span></h2>
          <button class="modal-close" onclick="closeInteriorModal()">Ã—</button>
        </div>
        
        <!-- Image Upload -->
        <div class="upload-zone" id="uploadZone" onclick="document.getElementById('fileInput').click()">
          <div class="upload-icon">ğŸ“·</div>
          <p><strong>ë°© ì‚¬ì§„ì„ ì—…ë¡œë“œí•˜ì„¸ìš”</strong><br>í´ë¦­ ë˜ëŠ” ë“œë˜ê·¸ ì•¤ ë“œë¡­</p>
        </div>
        <input type="file" id="fileInput" accept="image/*" style="display:none">
        
        <!-- Style Selection -->
        <div class="style-section">
          <h3>ë””ìì¸ ìŠ¤íƒ€ì¼</h3>
          <div class="style-grid">
            <button class="style-btn active" data-style="ëª¨ë˜">
              <div class="icon">ğŸ¢</div>
              <div class="name">ëª¨ë˜</div>
              <div class="desc">ê¹”ë”í•œ í˜„ëŒ€ì </div>
            </button>
            <button class="style-btn" data-style="ìŠ¤ì¹¸ë””ë‚˜ë¹„ì•ˆ">
              <div class="icon">ğŸŒ²</div>
              <div class="name">ìŠ¤ì¹¸ë””ë‚˜ë¹„ì•ˆ</div>
              <div class="desc">ë”°ëœ»í•œ ë¶ìœ ëŸ½</div>
            </button>
            <button class="style-btn" data-style="ì¸ë”ìŠ¤íŠ¸ë¦¬ì–¼">
              <div class="icon">ğŸ­</div>
              <div class="name">ì¸ë”ìŠ¤íŠ¸ë¦¬ì–¼</div>
              <div class="desc">ë¹ˆí‹°ì§€ ê°ì„±</div>
            </button>
            <button class="style-btn" data-style="ë¯¸ë‹ˆë©€ë¦¬ìŠ¤íŠ¸">
              <div class="icon">â—»ï¸</div>
              <div class="name">ë¯¸ë‹ˆë©€</div>
              <div class="desc">ê·¹ë„ë¡œ ë‹¨ìˆœ</div>
            </button>
            <button class="style-btn" data-style="ìíŒ¬ë””">
              <div class="icon">ğŸ‹</div>
              <div class="name">ìíŒ¬ë””</div>
              <div class="desc">ì¼ë³¸+ë¶ìœ ëŸ½</div>
            </button>
            <button class="style-btn" data-style="ëŸ­ì…”ë¦¬">
              <div class="icon">âœ¨</div>
              <div class="name">ëŸ­ì…”ë¦¬</div>
              <div class="desc">ê³ ê¸‰ìŠ¤ëŸ¬ìš´</div>
            </button>
          </div>
        </div>
        
        <!-- Additional Request -->
        <div class="additional-section">
          <h3 style="font-size:14px;color:var(--gray);text-transform:uppercase;letter-spacing:1px;margin-bottom:12px">ì¶”ê°€ ìš”ì²­</h3>
          <textarea id="additionalRequest" placeholder="ì¶”ê°€ ìš”ì²­ì‚¬í•­ì„ ì…ë ¥í•˜ì„¸ìš”... (ì˜ˆ: ì‹ë¬¼ì„ ë§ì´ ë„£ì–´ì£¼ì„¸ìš”)"></textarea>
        </div>
        
        <!-- Generate Button -->
        <button class="generate-btn" id="generateBtn" onclick="generateInteriorDesign()">
          âœ¨ ë””ìì¸ ìƒì„±í•˜ê¸°
        </button>
      </div>
      
      <!-- Right Panel - Results -->
      <div class="modal-right">
        <div class="result-header">
          <h3>ğŸ–¼ï¸ ê²°ê³¼ ë¯¸ë¦¬ë³´ê¸°</h3>
        </div>
        
        <!-- Placeholder -->
        <div class="result-placeholder" id="resultPlaceholder">
          <div class="icon">ğŸ </div>
          <h4>ì¸í…Œë¦¬ì–´ AI</h4>
          <p>ë°© ì‚¬ì§„ì„ ì—…ë¡œë“œí•˜ê³  ì›í•˜ëŠ” ìŠ¤íƒ€ì¼ì„ ì„ íƒí•œ í›„ ìƒì„± ë²„íŠ¼ì„ ëˆŒëŸ¬ì£¼ì„¸ìš”</p>
        </div>
        
        <!-- Results -->
        <div class="result-content" id="resultContent">
          <div class="image-compare">
            <div class="before">
              <div class="label">Before</div>
              <img id="beforeImage" src="" alt="Before">
            </div>
            <div class="after">
              <div class="label">After</div>
              <img id="afterImage" src="" alt="After">
            </div>
          </div>
          
          <div class="generated-image">
            <img id="generatedImage" src="" alt="Generated Design" onclick="window.open(this.src, '_blank')">
          </div>
          
          <div class="analysis-box">
            <h4>ğŸ“Š ë°© ë¶„ì„</h4>
            <p id="roomAnalysis"></p>
          </div>
          
          <div class="analysis-box">
            <h4>ğŸ’¡ ë””ìì¸ ì œì•ˆ</h4>
            <p id="designSuggestions"></p>
          </div>
          
          <a class="download-btn" id="downloadBtn" href="" target="_blank" download>
            ğŸ“¥ ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ
          </a>
        </div>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="footer">
    <div class="footer-content">
      <a href="index.html" class="footer-brand">
        <svg fill="currentColor"><use href="#icon-logo"/></svg>
        <span>ë‹¤ë‹´</span>
      </a>
      <div class="footer-links">
        <a href="index.html">í™ˆ</a>
        <a href="#">ì œí’ˆ</a>
        <a href="#">ì‹œê³µì‚¬ë¡€</a>
        <a href="#">ì‡¼ë£¸</a>
        <a href="#">ê³ ê°ì„¼í„°</a>
      </div>
    </div>
    <p class="footer-copy">Â© 2024 ë‹¤ë‹´ê°€êµ¬. All rights reserved.</p>
  </footer>

  <script>
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // ê¸°ì¡´ ìºë¹„ë„· AI ì±„íŒ… ê¸°ëŠ¥
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    const N8N_WEBHOOK_URL = 'https://dadam.app.n8n.cloud/webhook/chat';
    const chatMessages = document.getElementById('chatMessages');
    const messageInput = document.getElementById('messageInput');
    const sendBtn = document.getElementById('sendBtn');
    let isFirstMessage = true;

    messageInput.addEventListener('input', function() {
      this.style.height = 'auto';
      this.style.height = Math.min(this.scrollHeight, 120) + 'px';
    });

    function handleKeyDown(e) {
      if (e.key === 'Enter' && !e.shiftKey) {
        e.preventDefault();
        sendMessage();
      }
    }

    function getCurrentTime() {
      return new Date().toLocaleTimeString('ko-KR', { hour: '2-digit', minute: '2-digit' });
    }

    function addMessage(content, isUser = false) {
      if (isFirstMessage) {
        const welcome = chatMessages.querySelector('.welcome-message');
        if (welcome) welcome.remove();
        isFirstMessage = false;
      }

      const messageDiv = document.createElement('div');
      messageDiv.className = `message ${isUser ? 'user' : 'ai'}`;
      
      const avatarSvg = isUser 
        ? '<use href="#icon-user"/>' 
        : '<use href="#icon-ai"/>';
      
      messageDiv.innerHTML = `
        <div class="message-avatar">
          <svg fill="${isUser ? 'none' : 'currentColor'}" stroke="${isUser ? 'currentColor' : 'none'}" stroke-width="2">${avatarSvg}</svg>
        </div>
        <div>
          <div class="message-content">${formatMessage(content)}</div>
          <div class="message-time">${getCurrentTime()}</div>
        </div>
      `;
      
      chatMessages.appendChild(messageDiv);
      chatMessages.scrollTop = chatMessages.scrollHeight;
    }

    function formatMessage(text) {
      return text
        .replace(/\n/g, '<br>')
        .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
        .replace(/\*(.*?)\*/g, '<em>$1</em>');
    }

    function showTypingIndicator() {
      const typingDiv = document.createElement('div');
      typingDiv.className = 'message ai';
      typingDiv.id = 'typingIndicator';
      typingDiv.innerHTML = `
        <div class="message-avatar">
          <svg fill="currentColor"><use href="#icon-ai"/></svg>
        </div>
        <div class="typing-indicator">
          <span></span>
          <span></span>
          <span></span>
        </div>
      `;
      chatMessages.appendChild(typingDiv);
      chatMessages.scrollTop = chatMessages.scrollHeight;
    }

    function removeTypingIndicator() {
      const typing = document.getElementById('typingIndicator');
      if (typing) typing.remove();
    }

    async function sendMessage() {
      const message = messageInput.value.trim();
      if (!message) return;

      messageInput.disabled = true;
      sendBtn.disabled = true;
      addMessage(message, true);
      messageInput.value = '';
      messageInput.style.height = 'auto';
      showTypingIndicator();

      try {
        const response = await fetch(N8N_WEBHOOK_URL, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ message: message })
        });

        removeTypingIndicator();

        if (!response.ok) throw new Error('Network response was not ok');

        const data = await response.json();
        let aiResponse = data.response || data.output || data.message || data.text || JSON.stringify(data);
        addMessage(aiResponse, false);

      } catch (error) {
        removeTypingIndicator();
        console.error('Error:', error);
        addMessage('ì£„ì†¡í•©ë‹ˆë‹¤. ì¼ì‹œì ì¸ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.', false);
      }

      messageInput.disabled = false;
      sendBtn.disabled = false;
      messageInput.focus();
    }

    function sendQuickPrompt(prompt) {
      messageInput.value = prompt;
      sendMessage();
    }

    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // ì¸í…Œë¦¬ì–´ AI ê¸°ëŠ¥ (NEW)
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    const N8N_INTERIOR_URL = 'https://dadam.app.n8n.cloud/webhook/interior-design';
    
    let interiorState = {
      roomImage: null,
      roomImagePreview: null,
      imageType: 'image/jpeg',
      selectedStyle: 'ëª¨ë˜'
    };

    // Modal ì—´ê¸°/ë‹«ê¸°
    function openInteriorModal() {
      document.getElementById('interiorModal').classList.add('active');
      document.body.style.overflow = 'hidden';
    }

    function closeInteriorModal() {
      document.getElementById('interiorModal').classList.remove('active');
      document.body.style.overflow = '';
    }

    // ëª¨ë‹¬ ì™¸ë¶€ í´ë¦­ì‹œ ë‹«ê¸°
    document.getElementById('interiorModal').addEventListener('click', function(e) {
      if (e.target === this) closeInteriorModal();
    });

    // ESC í‚¤ë¡œ ë‹«ê¸°
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape') closeInteriorModal();
    });

    // ì´ë¯¸ì§€ ì—…ë¡œë“œ
    const uploadZone = document.getElementById('uploadZone');
    const fileInput = document.getElementById('fileInput');

    uploadZone.addEventListener('dragover', (e) => {
      e.preventDefault();
      uploadZone.classList.add('dragover');
    });

    uploadZone.addEventListener('dragleave', () => {
      uploadZone.classList.remove('dragover');
    });

    uploadZone.addEventListener('drop', (e) => {
      e.preventDefault();
      uploadZone.classList.remove('dragover');
      const file = e.dataTransfer.files[0];
      if (file && file.type.startsWith('image/')) {
        handleImageUpload(file);
      }
    });

    fileInput.addEventListener('change', (e) => {
      if (e.target.files[0]) {
        handleImageUpload(e.target.files[0]);
      }
    });

    function handleImageUpload(file) {
      interiorState.imageType = file.type || 'image/jpeg';
      
      const reader = new FileReader();
      reader.onload = (e) => {
        const base64Full = e.target.result;
        interiorState.roomImagePreview = base64Full;
        interiorState.roomImage = base64Full.split(',')[1];
        
        uploadZone.innerHTML = `
          <img src="${base64Full}" alt="Uploaded room">
          <p>í´ë¦­í•˜ì—¬ ë‹¤ë¥¸ ì´ë¯¸ì§€ ì„ íƒ</p>
        `;
        uploadZone.classList.add('has-image');
      };
      reader.readAsDataURL(file);
    }

    // ìŠ¤íƒ€ì¼ ì„ íƒ
    document.querySelectorAll('.style-btn').forEach(btn => {
      btn.addEventListener('click', function() {
        document.querySelectorAll('.style-btn').forEach(b => b.classList.remove('active'));
        this.classList.add('active');
        interiorState.selectedStyle = this.dataset.style;
      });
    });

    // ë””ìì¸ ìƒì„±
    async function generateInteriorDesign() {
      if (!interiorState.roomImage) {
        alert('ë°© ì´ë¯¸ì§€ë¥¼ ë¨¼ì € ì—…ë¡œë“œí•´ì£¼ì„¸ìš”.');
        return;
      }

      const generateBtn = document.getElementById('generateBtn');
      const resultPlaceholder = document.getElementById('resultPlaceholder');
      const resultContent = document.getElementById('resultContent');

      // ë¡œë”© ìƒíƒœ
      generateBtn.disabled = true;
      generateBtn.innerHTML = '<div class="spinner"></div> ìƒì„± ì¤‘...';
      resultPlaceholder.innerHTML = `
        <div class="icon" style="animation: spin 2s linear infinite">â³</div>
        <h4>ë””ìì¸ ìƒì„± ì¤‘...</h4>
        <p>AIê°€ ë°©ì„ ë¶„ì„í•˜ê³  ìƒˆë¡œìš´ ë””ìì¸ì„ ë§Œë“¤ê³  ìˆìŠµë‹ˆë‹¤. ì•½ 30ì´ˆ ì •ë„ ì†Œìš”ë©ë‹ˆë‹¤.</p>
      `;

      try {
        const response = await fetch(N8N_INTERIOR_URL, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({
            room_image: interiorState.roomImage,
            image_type: interiorState.imageType,
            design_style: interiorState.selectedStyle,
            additional_request: document.getElementById('additionalRequest').value
          })
        });

        if (!response.ok) throw new Error(`HTTP ${response.status}`);

        const data = await response.json();

        // ê²°ê³¼ í‘œì‹œ
        document.getElementById('beforeImage').src = interiorState.roomImagePreview;
        document.getElementById('afterImage').src = data.generated_image?.url || '';
        document.getElementById('generatedImage').src = data.generated_image?.url || '';
        document.getElementById('roomAnalysis').textContent = data.room_analysis || 'ë¶„ì„ ê²°ê³¼ ì—†ìŒ';
        document.getElementById('designSuggestions').textContent = data.design_suggestions || 'ì œì•ˆ ì—†ìŒ';
        document.getElementById('downloadBtn').href = data.generated_image?.url || '#';

        resultPlaceholder.style.display = 'none';
        resultContent.classList.add('active');

      } catch (error) {
        console.error('Error:', error);
        resultPlaceholder.innerHTML = `
          <div class="icon">âš ï¸</div>
          <h4>ì˜¤ë¥˜ ë°œìƒ</h4>
          <p>ë””ìì¸ ìƒì„± ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.</p>
        `;
      }

      generateBtn.disabled = false;
      generateBtn.innerHTML = 'âœ¨ ë””ìì¸ ìƒì„±í•˜ê¸°';
    }
  </script>
</body>
</html>
